# ðŸ“˜ Assignment 7 â€“ TODO

## ðŸ“Œ Project Overview

This project implements **Sequelize models**, **validations**, and **RESTful APIs** for Users, Posts, and Comments following the provided assignment specifications.

The checklist below is used to track completed and pending tasks.

---

## Part 1: Sequelize Models

### Users Model (`define`)

- [x] Create `Users` model using `sequelize.define`
- [x] Fields:
    - [x] id (PK, Auto Increment) => auto generated by `sequelize`
    - [x] name (VARCHAR)
    - [x] email (VARCHAR, Unique)
    - [x] password (VARCHAR)
    - [x] role (ENUM: user, admin)
    - [x] createdAt => auto generated by `timestamps: true`
    - [x] updatedAt => auto generated by `timestamps: true`

- [x] Email format validation (built-in)
- [x] Custom validation: `checkPasswordLength` (password > 6 characters)
- [x] Hook: `beforeCreate` â†’ `checkNameLength` (name > 2 characters)

---

### Posts Model (`init`)

- [x] Create `Posts` model using `Model.init`
- [x] Fields:
    - [x] id (PK, Auto Increment) => auto generated by `sequelize`
    - [x] title (VARCHAR)
    - [x] content (TEXT)
    - [x] userId (FK â†’ Users) => auto generated by `sequelize Associations`
    - [x] createdAt => auto generated by `timestamps: true`
    - [x] updatedAt => auto generated by `timestamps: true`

- [x] Enable soft delete (`paranoid: true`)

---

### Comments Model (`init`)

- [x] Create `Comments` model using `Model.init`
- [x] Fields:
    - [x] id (PK, Auto Increment) => auto generated by `sequelize`
    - [x] content (TEXT)
    - [x] postId (FK â†’ Posts) => auto generated by `sequelize Associations`
    - [x] userId (FK â†’ Users) => auto generated by `sequelize Associations`
    - [x] createdAt => auto generated by `timestamps: true`
    - [x] updatedAt => auto generated by `timestamps: true`

---

### Model Associations

- [x] User hasMany Posts
- [x] Post belongsTo User
- [x] User hasMany Comments
- [x] Comment belongsTo User
- [x] Post hasMany Comments
- [x] Comment belongsTo Post

---

## Part 2: APIs

### User APIs

- [x] **POST /users/signup**
    - [x] Create user using `build()` + `save()`
    - [x] Check email uniqueness
    - [x] Handle validation errors

- [x] **PUT /users/:id**
    - [x] Create or update user by PK
    - [x] Use `skip validation`

- [x] **GET /users/by-email**
    - [x] Find user by email (query param)

- [x] **GET /users/:id**
    - [x] Retrieve user by PK
    - [x] Exclude `role` field from response

---

### Post APIs

- [x] **POST /posts**
    - [x] Create post using new instance + save

- [x] **DELETE /posts/:postId**
    - [x] Delete post by ID
    - [x] Ensure only post owner can delete

- [x] **GET /posts/details**
    - [x] Retrieve all posts
    - [x] Include:
        - [x] Post: `id`, `title`
        - [x] User: `id`, `name`
        - [x] Comments: `id`, `content`

- [x] **GET /posts/comment-count**
    - [x] Retrieve all posts
    - [x] Include number of comments per post

---

### Comment APIs

- [ ] **POST /comments**
    - [ ] Create bulk comments

- [ ] **PATCH /comments/:commentId**
    - [ ] Update comment content
    - [ ] Ensure only comment owner can update

- [ ] **POST /comments/find-or-create**
    - [ ] Find comment by postId, userId, and content
    - [ ] Create if not exists

- [ ] **GET /comments/search**
    - [ ] Search comments by word
    - [ ] Return matched comments + count

- [ ] **GET /comments/newest/:postId**
    - [ ] Retrieve 3 most recent comments for a post

- [ ] **GET /comments/details/:id**
    - [ ] Retrieve comment by PK
    - [ ] Include related User and Post info

---

## Postman Requirements

- [ ] Use meaningful request names
- [ ] Save requests (Ctrl + S)
- [ ] Export Postman collection
- [ ] Include Postman link with assignment submission

---

## Bonus (Optional)

- [ ] Solve **Remove Element** problem on LeetCode
- [ ] Create `bonus.js` file
- [ ] Paste submitted solution code into `bonus.js`

---

## Submission Checklist

- [ ] All APIs tested
- [ ] README updated
- [ ] Project runs without errors
- [ ] Bonus completed (if applicable)

---
